<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>새 상품 등록</title>
  <link href="https://fonts.googleapis.com/css2?family=Cabin:wght@600;700&family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" th:href="@{/css/seller/product_form.css}">
</head>
<body>
  <!-- 네비게이션 바 -->
  <header class="navbar-container">
    <div class="navbar">
      <a th:href="@{/home}" class="logo-container" aria-label="홈으로 이동">
        <img th:src="@{/images/free-icon-sprout-7101338.png}" alt="로고" class="navbar-logo-img"/>
        <span class="brand-name">Parm UP</span>
      </a>
      <div class="navbar-buttons">
        <a th:if="${name != null}" th:href="@{/seller/myPage/{sid}(sid=${sid})}" style="margin-right: 12px; font-weight: bold; text-decoration: none; color: var(--color-primary);">
          <span th:text="${name}"></span>
        </a>
        <a th:href="@{/seller/main/{sid}(sid=${sid})}" class="btn-outline">대시보드</a>
        <a th:href="@{/seller/list/{sid}(sid=${sid})}" class="btn-outline">판매 목록</a>
        <form th:action="@{/seller/logout}" method="post" style="display:inline;">
          <button type="submit" class="btn-filled">로그아웃</button>
        </form>
      </div>
    </div>
  </header>

  <div class="page-container">
    <h1 class="page-title">새 상품 등록</h1>

    <div class="form-container">
      <form id="productForm" th:action="@{/seller/add/{sid}(sid=${sid})}" th:object="${product}" method="post" novalidate>
        <!-- 숨겨진 제출 버튼 -->
        <button type="submit" class="hidden-submit" aria-label="상품 등록">상품 등록</button>

        <div class="form-section">
          <h3>기본 정보</h3>
          <div class="form-group" id="productNameGroup">
            <label for="productName" class="required">상품 이름</label>
            <input type="text" id="productName" th:field="*{productName}" placeholder="예: 유기농 햇감자" required>
            <div class="error-message" id="productNameError"></div>
          </div>
          <div class="form-group" id="titleGroup">
            <label for="title" class="required">고객에게 보여줄 제목</label>
            <input type="text" id="title" th:field="*{title}" placeholder="예: 강원도 청정지역에서 막 캐낸 유기농 햇감자 2kg" required>
            <div class="error-message" id="titleError"></div>
          </div>
          <div class="form-group" id="contentGroup">
            <label for="content" class="required">상품 내용</label>
            <textarea id="content" th:field="*{content}" placeholder="상품에 대한 상세한 설명을 입력하세요." required></textarea>
            <div class="error-message" id="contentError"></div>
          </div>
          <div class="form-group" id="countryOfOriginGroup">
            <label for="countryOfOrigin" class="required">원산지</label>
            <input type="text" id="countryOfOrigin" th:field="*{countryOfOrigin}" placeholder="예: 대한민국 강원도" required>
            <div class="error-message" id="countryOfOriginError"></div>
          </div>
        </div>

        <div class="form-section">
          <h3>판매 정보</h3>
          <div class="form-group" id="priceGroup">
            <label for="price" class="required">가격 (원)</label>
            <input type="number" id="price" th:field="*{price}" placeholder="숫자만 입력" min="0" required>
            <div class="error-message" id="priceError"></div>
          </div>
          <div class="form-group" id="quantityGroup">
            <label for="quantity" class="required">수량 (재고)</label>
            <input type="number" id="quantity" th:field="*{quantity}" placeholder="숫자만 입력" min="0" required>
            <div class="error-message" id="quantityError"></div>
          </div>
          <div class="form-group" id="statusGroup">
            <label for="status" class="required">판매 상태</label>
            <select id="status" th:field="*{status}" required>
              <option value="">상태를 선택하세요</option>
              <option value="판매중">판매중</option>
              <option value="재고소진">재고소진</option>
              <option value="비활성화">비활성화</option>
            </select>
            <div class="error-message" id="statusError"></div>
          </div>
        </div>

        <div class="form-section">
          <h3>이미지 등록</h3>
          <div class="form-group" id="thumbnailGroup">
            <label for="thumbnail">섬네일 사진 URL</label>
            <input type="url" id="thumbnail" th:field="*{thumbnail}" placeholder="대표 이미지 URL을 입력하세요">
            <div class="error-message" id="thumbnailError"></div>
          </div>
        </div>

        <div class="form-section">
          <h3>배송 정보</h3>
          <div class="form-group" id="deliveryFeeGroup">
            <label for="deliveryFee" class="required">배송비 (원)</label>
            <input type="number" id="deliveryFee" th:field="*{deliveryFee}" placeholder="무료배송 시 0 입력" min="0" required>
            <div class="error-message" id="deliveryFeeError"></div>
          </div>
          <div class="form-group" id="deliveryMethodGroup">
            <label for="deliveryMethod">배송 방법</label>
            <textarea id="deliveryMethod" th:field="*{deliveryMethod}" rows="3" placeholder="예: CJ대한통운 (평일 오후 2시 이전 주문 시 당일 출고)"></textarea>
            <div class="error-message" id="deliveryMethodError"></div>
          </div>
          <div class="form-group" id="deliveryInformationGroup">
            <label for="deliveryInformation">배송 안내</label>
            <textarea id="deliveryInformation" th:field="*{deliveryInformation}" rows="3" placeholder="예: 제주 및 도서산간 지역은 추가 배송비가 발생할 수 있습니다."></textarea>
            <div class="error-message" id="deliveryInformationError"></div>
          </div>
        </div>

        <div class="form-actions">
          <button type="button" class="cancel-btn" th:onclick="|location.href='@{/seller/list/{sid}(sid=${sid})}'|">취소</button>
          <button type="submit" class="submit-btn" id="submitBtn">등록</button>
        </div>
      </form>
    </div>
  </div>

  <script th:src="@{/js/seller/product_form.js}"></script>
</body>
</html>